# LDS(Lumir Design System) 개요 및 가이드라인

## 1. 디자인 시스템 소개

### 1.1 정의와 목적

LDS(Lumir Design System)는 일관된 사용자 경험을 제공하기 위한 디자인 표준 및 재사용 가능한 컴포넌트 라이브러리입니다. 이 디자인 시스템은 다음과 같은 목적을 위해 개발되었습니다:

- **일관성**: 모든 제품과 서비스에 걸쳐 일관된 디자인 언어 구현
- **효율성**: 개발 시간 단축 및 리소스 최적화
- **확장성**: 새로운 제품과 기능에 쉽게 확장 가능한 구조
- **접근성**: 모든 사용자를 위한 포용적인 디자인 체계 구축
- **품질**: 높은 수준의 사용자 경험 보장

### 1.2 핵심 원칙

LDS는 다음과 같은 핵심 원칙을 기반으로 합니다:

1. **토큰 중심 설계**: 모든 디자인 요소는 토큰으로 정의되고 관리됩니다.
2. **계층적 구조**: 파운데이션 토큰 → 시멘틱 토큰 → 컴포넌트 → 패턴의 계층적 구조로 구성됩니다.
3. **테마 지원**: 라이트/다크 모드를 원활하게 지원합니다.
4. **접근성 우선**: WCAG 2.1 AA 기준을 충족하는 접근성 있는 디자인을 지향합니다.
5. **문서화**: 모든 컴포넌트와 패턴에 대한 철저한 문서화를 제공합니다.

## 2. 아키텍처

### 2.1 구조

LDS는 다음과 같은 구조로 구성됩니다:

LDS/
├── tokens/                      # 디자인 토큰
│   ├── shared/
│   │   ├── current/             # 현재 활성화된 토큰 버전
│   │   │   ├── foundation.json  # 파운데이션 토큰
│   │   │   └── icons/           # 아이콘 SVG 파일 (파운데이션 요소)
│   │   │       ├── line icons/  # 라인 스타일 아이콘
│   │   │       ├── flat icons/  # 플랫 스타일 아이콘
│   │   │       └── logo/        # 로고 아이콘
│   │   ├── mark01/              # 이전 버전 토큰
│   │   └── mark02/              # 이전 버전 토큰
│   ├── system-1/
│   └── system-2/
├── components/                  # UI 컴포넌트
│   ├── primitives/              # 기본 UI 요소
│   │   ├── Box/
│   │   ├── Text/
│   │   ├── Stack/
│   │   └── Icon/               ← Icon Primitive 컴포넌트 (tokens/shared/current/icons의 SVG 사용)
│   │       ├── Icon.tsx
│   │       ├── icons-map.json
│   │       └── index.ts
│   ├── compounds/               # 복합 UI 요소
│   └── patterns/                # UI 패턴
├── styles/                      # 스타일 시트
│   ├── tokens.css
│   └── base.css
├── themes/                      # 테마 설정
│   ├── light.css
│   └── dark.css
└── utils/                       # 유틸리티
    ├── theme-switch.js
    └── version-manager.js

### 2.2 모노레포 구조

project-root/
├── packages/
│   ├── tokens/                  # 디자인 토큰 패키지
│   │   └── shared/
│   │       └── current/
│   │           ├── foundation.json
│   │           └── icons/       # SVG 아이콘 파일 (파운데이션)
│   ├── components/              # 컴포넌트 라이브러리 패키지
│   │   ├── primitives/
│   │   │   └── Icon/            ← Icon Primitive 패키지 (tokens/shared/current/icons 참조)
│   │   ├── compounds/
│   │   └── patterns/
│   ├── documentation/
│   └── utils/
├── apps/
│   ├── storybook/
│   └── demo/
├── config/
├── scripts/
└── package.json  


## 3. 토큰 시스템

### 3.1 파운데이션 토큰

파운데이션 토큰은 디자인 시스템의 가장 기본적인 디자인 값을 정의합니다:

- **색상**: 기본 색상 팔레트(light/dark 모드 지원)
- **타이포그래피**: 글꼴 패밀리, 크기, 두께, 행간, 자간
- **간격**: 여백과 간격 체계
- **크기**: 기본 크기 체계
- **테두리**: 모서리 반경, 테두리 두께, 스타일
- **애니메이션**: 지속 시간, 이징 함수
- **효과**: 그림자, 블러, 투명도

### 3.2 시멘틱 토큰

시멘틱 토큰은 파운데이션 토큰을 참조하여 의미론적 용도로 정의됩니다:

- **색상**: primary, secondary, cta, status 등 의미론적 색상
- **타이포그래피**: heading, body, label 등 의미론적 텍스트 스타일
- **간격**: 레이아웃 간격, 여백 등
- **높이**: 버튼, 입력 필드 등의 높이
- **그림자**: 카드, 모달 등의 그림자 효과
- **애니메이션**: 인터랙션, 전환 애니메이션
- **레이아웃**: 그리드, 컨테이너, 브레이크포인트

### 3.3 네이밍 규칙

토큰 이름은 다음과 같은 규칙을 따릅니다:

- **파운데이션 토큰**: `카테고리.속성.변형.값`
  - 예: `foundation.color.blue.light.50`

- **시멘틱 토큰**: `카테고리.상황.용도.위계.상태`
  - 예: `semantic.color.primary.background.1.rest`

## 4. 컴포넌트 시스템

### 4.1 컴포넌트 계층

컴포넌트는 다음과 같은 세 가지 계층으로 구성됩니다:

1. **Primitives**: 기본 UI 요소 (버튼, 입력 필드, 아이콘 등)
2. **Compounds**: 기본 요소로 구성된 복합 UI 요소 (카드, 모달, 탭 등)
3. **Patterns**: 특정 사용자 경험을 위한 UI 패턴 (폼, 검색, 내비게이션 등)

### 4.1.1 컴포넌트 분류

LDS의 컴포넌트는 **Primitive → Compound → Pattern** 세 계층으로 나뉘며, 각 레이어의 역할과 예시는 다음과 같습니다:

| 레이어         | 역할                                                         | 예시 컴포넌트                                                        |
|--------------|------------------------------------------------------------|------------------------------------------------------------------|
| **Primitive** | - 토큰 키만 prop으로 받아 순수 스타일·레이아웃 처리<br>- 최소 단위 UI 빌딩 블록 | `Box`, `Flex`/`Stack`, `Grid`, `Text`, `Heading`, `Icon`, `Image` |
| **Compound**  | - Primitive를 조합해 단일 UI 기능 캡슐화<br>- 최소한의 행동/데이터 로직 포함  | `Button`, `Input`/`TextField`, `Select`/`Dropdown`, `Card`, `FormField`, `Badge` |
| **Pattern**   | - Compound/Primitive를 레이아웃·시나리오 단위로 묶음<br>- 화면 템플릿 제공    | `Modal`/`Dialog`, `Tabs`, `Breadcrumbs`, `PageLayout` (예: Dashboard) |

---

### 4.1.2 아이콘 관리

아이콘은 "컨테이너 크기"와 "실제 아트(art) 크기"를 분리해 관리하며, 디자인 토큰과 Primitive API로 일관되게 사용할 수 있도록 정의합니다.

#### 1) 아이콘 파일 관리
- **저장소**: 아이콘 SVG 파일들은 `tokens/shared/current/icons/` 디렉토리에 저장됩니다.
- **분류**: 아이콘 SVG 파일들은 파운데이션(foundation) 요소로 분류되며, 디자인 시스템의 기본 요소로 관리됩니다.
- **컴포넌트 연계**: 이 파운데이션 아이콘 파일들은 Icon Primitive 컴포넌트의 구성에 사용됩니다.
- **버전 관리**: 아이콘 파일들도 토큰과 동일한 버전 관리 체계를 따릅니다.

#### 2) 아이콘 폴더 구조
현재의 아이콘 구조는 다음과 같습니다:
```
icons/
├── line icons/                 # 라인 스타일 아이콘
│   ├── wifi/
│   ├── volume/
│   ├── video/
│   ├── social/
│   ├── navigation/
│   ├── menu/
│   └── ...                     # 기타 기능별 아이콘
├── flat icons/                 # 플랫 스타일 아이콘
└── logo/                       # 로고 관련 아이콘
```

- **스타일 구분**: 아이콘은 크게 라인 스타일과 플랫 스타일로 구분
- **기능별 분류**: 주요 기능(예: 내비게이션, 미디어, 설정 등)별로 하위 폴더에 정리
- **명명 규칙**: 모든 아이콘 파일명은 소문자와 하이픈으로 작성 (예: `arrow-down.svg`)

#### 3) Foundation 토큰  
- **icon.container**: 아이콘 컨테이너 크기 (예: `20px`)  
- **icon.padding**: 터치·클릭 영역 확보용 내부 여백 (예: `2px`)  

```jsonc
// foundation.json
{
  "icon": {
    "container": { "value": "20px" },
    "padding":   { "value": "2px" }
  }
}
```

#### 4) Icon 컴포넌트 구현
- **역할**: 파운데이션 아이콘 SVG 파일을 React 컴포넌트로 변환하여 사용할 수 있도록 함
- **구조**: 
  ```
  primitives/
  └── Icon/
      ├── Icon.tsx          # 기본 컴포넌트 구현
      ├── icons-map.json    # SVG 파일과 컴포넌트 이름 매핑
      └── index.ts          # 익스포트 정의
  ```
- **기능**: 크기 조절, 색상 변경, 회전, 미러링 등 아이콘 커스터마이징 기능 제공
- **자동화 프로세스**: 
  1. Figma에서 SVG 익스포트
  2. SVG 최적화 (SVGO)
  3. React 컴포넌트 자동 생성
  4. 컴포넌트 라이브러리 업데이트

### 4.2 컴포넌트 작성 규칙

모든 컴포넌트는 다음과 같은 규칙을 준수해야 합니다:

- 시멘틱 토큰만 참조 (파운데이션 토큰 직접 참조 금지)
- 접근성(ARIA) 속성 지원
- 반응형 디자인 적용
- 테마 변경 지원
- 상태 관리 (rest, hover, focus, disabled 등)
- 명확한 props 인터페이스 정의
- 충분한 문서화 및 사용 예시 제공

### 4.3 컴포넌트 문서화

각 컴포넌트에 대한 문서화는 다음 항목을 포함해야 합니다:

- 컴포넌트 개요 및 사용 목적
- Props API 설명
- 사용 예시 코드
- 접근성 고려사항
- 디자인 변형 및 상태
- 관련 컴포넌트 및 패턴




## 5. 스타일 규칙

### 5.1 CSS 작성 규칙

- 직접 CSS 속성 값을 하드코딩하지 않고 토큰 변수만 사용
- CSS 클래스 네이밍은 BEM 방법론을 따름
- 미디어 쿼리는 정의된 브레이크포인트 토큰만 사용
- 레이아웃과 스타일 관심사 분리
- CSS-in-JS 또는 CSS 모듈 사용 권장

### 5.2 반응형 디자인

- 모바일 우선(Mobile-first) 접근 방식 채택
- 정의된 브레이크포인트에서만 반응형 변경 적용
- 유동적인 레이아웃 및 그리드 시스템 사용
- 접근 가능한 터치 타겟 크기 유지

### 5.3 접근성 규칙

- 충분한 색상 대비 보장 (WCAG AA 이상)
- 키보드 내비게이션 지원
- 스크린 리더 호환성 유지
- 상태 변화를 시각적으로만 표현하지 않음
- 적절한 포커스 표시자 제공

## 6. 테마 관리

### 6.1 테마 정의

- 라이트 모드와 다크 모드를 기본 제공
- CSS 변수를 통한 테마 속성 정의
- 색상, 그림자, 배경색 등 테마별 차별화

### 6.2 테마 전환

- `data-theme` 속성을 통한 테마 전환
- 사용자 선호도 및 시스템 설정 감지
- 테마 전환 시 부드러운 애니메이션 적용
- 테마 선택 사항 지속성 유지 (로컬 스토리지)

## 7. 협업 가이드라인

### 7.1 개발 워크플로우

- GitFlow 브랜치 전략 사용
- Pull Request를 통한 코드 리뷰 필수
- 기능 개발과 버그 수정을 위한 이슈 트래킹
- 시맨틱 버저닝 준수
- CI/CD 파이프라인을 통한 자동화된 테스트 및 배포

### 7.2 디자이너-개발자 협업

- 피그마를 통한 디자인 공유
- 토큰 변경에 대한 명확한 커뮤니케이션
- 디자인 시스템 관련 정기 미팅
- 컴포넌트 스펙 문서 공유
- 디자인 검토 및 피드백 프로세스 정립

## 8. 배포 및 버전 관리

### 8.1 패키지 배포

- npm 패키지로 배포
- 각 패키지별 독립적인 버전 관리
- 트리 셰이킹을 지원하는 번들 구성
- ESM 및 CommonJS 모듈 형식 지원
- 타입스크립트 타입 정의 포함

### 8.2 변경 관리

- CHANGELOG.md 파일을 통한 변경 사항 문서화
- 시맨틱 버저닝(major.minor.patch) 체계 적용
- 주요 변경 사항에 대한 마이그레이션 가이드 제공
- 폐기 예정(deprecated) 기능 명확한 표시
- 다중 버전 지원 전략

### 8.3 파운데이션 토큰 버전 관리

Lumir Design System은 파운데이션 토큰을 버전별로 관리합니다:

- **버전 구조**: 파운데이션 토큰은 `shared/mark01`, `shared/mark02` 등의 폴더 구조로 버전별로 관리됩니다.
- **버전 명명법**: 'mark' 접두사와 두 자리 숫자를 조합하여 버전을 표시합니다.
- **현재 버전**: `shared/current` 폴더는 현재 활성화된 파운데이션 토큰 버전을 가리킵니다.
- **버전 전환**: `version-manager.js` 스크립트를 사용하여 버전 간 전환이 가능합니다.
- **하위 호환성**: 새 버전의 토큰은 기존 토큰을 대체하기보다 확장하는 방식으로 추가하여 하위 호환성을 유지합니다.
- **버전 이력**: 각 버전의 변경 사항은 CHANGELOG.md 파일에 상세히 문서화됩니다.

## 9. 품질 관리

### 9.1 테스트 전략

- 단위 테스트: 개별 함수 및 컴포넌트 테스트
- 통합 테스트: 컴포넌트 간 상호작용 테스트
- 시각적 회귀 테스트: 스토리북 + Chromatic
- 접근성 테스트: 자동화된 WCAG 검사
- 성능 테스트: 번들 크기 및 렌더링 성능

### 9.2 품질 기준

- 90% 이상의 테스트 커버리지
- 모든 컴포넌트 WCAG 2.1 AA 준수
- 번들 크기 최적화
- 크로스 브라우저 호환성 (최신 2개 버전 지원)
- 모바일 친화적 UI/UX

## 10. 문서화 및 교육

### 10.1 문서화 시스템

- 스토리북을 통한 컴포넌트 문서화
- 개발자 가이드 및 API 문서
- 디자인 원칙 및 패턴 가이드
- 코드 예시 및 샌드박스
- 변경 로그 및 로드맵

### 10.2 교육 및 온보딩

- 신규 개발자 온보딩 가이드
- 디자인 시스템 워크숍 자료
- 모범 사례 및 안티 패턴 예시
- 비디오 튜토리얼 및 데모
- 질문 및 대답(Q&A) 리소스

---

이 문서는 LDS(Light Design System)의 핵심 개념과 가이드라인을 제공합니다. 디자인 시스템은 계속 발전하는 살아있는 시스템이므로, 정기적인 검토와 업데이트가 필요합니다. 모든 팀원은 이 가이드라인을 참조하여 일관되고 높은 품질의 사용자 경험을 제공할 수 있도록 노력해야 합니다.
